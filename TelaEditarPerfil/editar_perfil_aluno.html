<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Editar Perfil - Sistema de Treinamentos Metrô SP</title>
    
    <!-- Ícone do Metrô de São Paulo (favicon) -->
    <link rel="icon" type="image/png"
        href="https://www.metro.sp.gov.br/wp-content/themes/metrosp/assets/images/favicon.png">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS Base -->
    <link rel="stylesheet" href="../styles/base.css">
    
    <!-- Sistema de Notificações -->
    <script src="../styles/notifications.js"></script>
    
    <link rel="stylesheet" href="editar_perfil_aluno.css">
</head>

<body>

    <header class="topo">
        Editar Perfil do Aluno
        <button class="btn-logout" onclick="logout()" title="Sair do sistema">
            <i class="fa-solid fa-sign-out-alt"></i> Sair
        </button>
    </header>

    <!-- Logo do Governo -->
    <div class="logo-governo">
        <img src="imagens/logoGov.png" alt="Governo do Estado de São Paulo">
    </div>

    <main class="main-content">
        <a href="../TelaHomeAluno/aluno_home.html" class="btn-voltar">
            <i class="fa-solid fa-arrow-left"></i> Voltar ao Dashboard
        </a>

        <div class="page-header">
            <div class="header-icon">
                <i class="fa-solid fa-user-edit"></i>
            </div>
            <h1>Editar Perfil</h1>
            <p class="lead">Atualize suas informações pessoais</p>
        </div>

        <div class="perfil-container">
            <form id="editarPerfilForm">
                <!-- Foto de Perfil -->
                <div class="form-section">
                    <h3 class="section-title">
                        <i class="fa-solid fa-camera"></i>
                        Foto de Perfil
                    </h3>
                    
                    <div class="photo-upload-container">
                        <div class="photo-preview">
                            <img id="photoPreview" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNDAiIHI9IjE1IiBmaWxsPSIjOUNBM0FGIi8+CjxwYXRoIGQ9Ik0yNSA3NUMyNSA2NS4zMzU4IDMyLjMzNTggNTggNDIgNThINThDNjcuNjY0MiA1OCA3NSA2NS4zMzU4IDc1IDc1VjEwMEgyNVY3NVoiIGZpbGw9IiM5Q0EzQUYiLz4KPC9zdmc+" alt="Foto de perfil">
                            <div class="photo-overlay">
                                <i class="fa-solid fa-camera"></i>
                            </div>
                        </div>
                        <div class="photo-actions">
                            <input type="file" id="photoInput" accept="image/*" style="display: none;">
                            <button type="button" class="btn-photo" onclick="document.getElementById('photoInput').click()">
                                <i class="fa-solid fa-upload"></i> Escolher Foto
                            </button>
                            <button type="button" class="btn-photo-remove" onclick="removerFoto()">
                                <i class="fa-solid fa-trash"></i> Remover
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Informações Pessoais (Somente Visualização) -->
                <div class="form-section readonly-section">
                    <h3 class="section-title">
                        <i class="fa-solid fa-user"></i>
                        Informações Pessoais
                        <span class="readonly-badge">
                            <i class="fa-solid fa-lock"></i> Somente Visualização
                        </span>
                    </h3>
                    
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Nome Completo:</span>
                            <span class="info-value" id="displayNome">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">RG Metro:</span>
                            <span class="info-value" id="displayRgMetro">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Email:</span>
                            <span class="info-value" id="displayEmail">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Telefone:</span>
                            <span class="info-value" id="displayTelefone">-</span>
                        </div>
                    </div>
                    <div class="readonly-notice">
                        <i class="fa-solid fa-info-circle"></i>
                        <span>As informações pessoais são gerenciadas pelo sistema administrativo e não podem ser alteradas pelo aluno.</span>
                    </div>
                </div>

                <!-- Informações Profissionais (Somente Visualização) -->
                <div class="form-section readonly-section">
                    <h3 class="section-title">
                        <i class="fa-solid fa-briefcase"></i>
                        Informações Profissionais
                        <span class="readonly-badge">
                            <i class="fa-solid fa-lock"></i> Somente Visualização
                        </span>
                    </h3>
                    
                    <div class="readonly-info">
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Cargo:</span>
                                <span class="info-value" id="displayCargo">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Setor:</span>
                                <span class="info-value" id="displaySetor">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Data de Admissão:</span>
                                <span class="info-value" id="displayDataAdmissao">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Matrícula:</span>
                                <span class="info-value" id="displayMatricula">-</span>
                            </div>
                        </div>
                        <div class="readonly-notice">
                            <i class="fa-solid fa-info-circle"></i>
                            <span>As informações profissionais são gerenciadas pelo sistema administrativo e não podem ser alteradas pelo aluno.</span>
                        </div>
                    </div>
                </div>

                <!-- Alteração de Senha -->
                <div class="form-section">
                    <h3 class="section-title">
                        <i class="fa-solid fa-lock"></i>
                        Alteração de Senha
                    </h3>
                    
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="senhaAtual">Senha Atual *</label>
                            <input type="password" id="senhaAtual" name="senhaAtual" autocomplete="current-password">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="novaSenha">Nova Senha</label>
                            <input type="password" id="novaSenha" name="novaSenha" autocomplete="new-password">
                        </div>
                        <div class="form-group">
                            <label for="confirmarNovaSenha">Confirmar Nova Senha</label>
                            <input type="password" id="confirmarNovaSenha" name="confirmarNovaSenha" autocomplete="new-password">
                        </div>
                    </div>
                </div>

                <!-- Botões de Ação -->
                <div class="form-buttons">
                    <button type="submit" class="btn-salvar">
                        <i class="fa-solid fa-save"></i> Salvar Alterações
                    </button>
                    <button type="button" class="btn-limpar" onclick="limparFormulario()">
                        <i class="fa-solid fa-eraser"></i> Limpar Dados
                    </button>
                </div>
            </form>
        </div>

    </main>

    <footer class="rodape">
        <a href="https://www.metro.sp.gov.br/atendimento/fale-conosco.aspx" target="_blank">
            <div><i class="fa-solid fa-phone"></i> Fale conosco</div>
        </a>
        <a href="https://www.metro.sp.gov.br/atendimento/ouvidoria.aspx" target="_blank">
            <div><i class="fa-regular fa-comment-dots"></i> Ouvidoria</div>
        </a>
        <div><i class="fa-regular fa-clock"></i> 8h às 18h</div>
        <a href="https://www.metro.sp.gov.br/atendimento/fale-conosco.aspx" target="_blank">
            <div><i class="fa-solid fa-envelope"></i> SMS</div>
        </a>
    </footer>

    <!-- ======= ACESSIBILIDADE ======= -->
    <!-- 1. Link de pular para o conteúdo -->
    <a class="skip-link" href="#conteudo">Pular para o conteúdo principal</a>

    <!-- 2. Texto só para leitores de tela -->
    <style>
      .skip-link {
        position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden;
      }
      .skip-link:focus {
        position: static; width: auto; height: auto; padding: .5rem 1rem; background: #eee;
      }
      .sr-only {
        position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden;
        clip: rect(0,0,0,0); white-space: nowrap; border: 0;
      }
      :focus { outline: 3px solid #000; outline-offset: 2px; }
    </style>

    <!-- 3. Região para mensagens automáticas do leitor de tela -->
    <div aria-live="polite" class="sr-only" id="mensagens"></div>

    <!-- 4. Exemplo de alerta de erro/sucesso para leitores de tela -->
    <div role="alert" id="status-form" class="sr-only">
      Preencha os campos obrigatórios.
    </div>
    <!-- ======= FIM DA ACESSIBILIDADE ======= -->

    <!-- VLibras -->
    <div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
            <div class="vw-plugin-top-wrapper"></div>
        </div>
    </div>

    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script src="https://cdn.userway.org/widget.js" data-account="SEU_ID_DA_USERWAY_AQUI"></script>
    <script src="editar_perfil_aluno.js"></script>

</body>
</html>